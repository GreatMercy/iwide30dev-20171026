!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(this,function(){return function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=68)}({1:function(t,e){t.exports=function(t,e,n,a,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var l="function"==typeof o?o.options:o;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),a&&(l._scopeId=a);var u;if(i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):n&&(u=n),u){var c=l.functional,f=c?l.render:l.beforeCreate;c?l.render=function(t,e){return u.call(e),f(t,e)}:l.beforeCreate=f?[].concat(f,u):[u]}return{esModule:r,exports:o,options:l}}},100:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(89),r=a(i),o=n(91),s=a(o),l=n(90),u=n(93),c=a(u),f=function(t,e){if(t){var n=s.default.transformProperty;t.style[n]=t.style[n].replace(/rotateX\(.+?deg\)/gi,"")+" rotateX("+e+"deg)"}},d=Array.prototype.forEach,h={3:-45,5:-25,7:-15};e.default={name:"picker-slot",props:{values:{type:Array,default:function(){return[]}},value:{},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},textAlign:{type:String,default:"center"},flex:{},className:{},content:{},itemHeight:{type:Number,default:36},defaultIndex:{type:Number,default:0,require:!1}},data:function(){return{currentValue:this.value,mutatingValues:this.values,dragging:!1,animationFrameId:null}},mixins:[c.default],computed:{flexStyle:function(){return{flex:this.flex,"-webkit-box-flex":this.flex,"-moz-box-flex":this.flex,"-ms-flex":this.flex}},classNames:function(){var t="jfk-picker__slot-",e=[];this.rotateEffect&&e.push(t+"absolute");var n=this.textAlign||"center";return e.push(t+n),this.divider&&e.push(t+"divider"),this.className&&e.push(this.className),e.join(" ")},contentHeight:function(){return this.itemHeight*this.visibleItemCount},valueIndex:function(){return this.mutatingValues.indexOf(this.currentValue)},dragRange:function(){var t=this.mutatingValues,e=this.visibleItemCount,n=this.itemHeight;return[-n*(t.length-Math.ceil(e/2)),n*Math.floor(e/2)]}},methods:{value2Translate:function(t){var e=this.mutatingValues,n=e.indexOf(t),a=Math.floor(this.visibleItemCount/2),i=this.itemHeight;if(-1!==n)return(n-a)*-i},translate2Value:function(t){var e=this.itemHeight;t=Math.round(t/e)*e;var n=-(t-Math.floor(this.visibleItemCount/2)*e)/e;return this.mutatingValues[n]},updateRotate:function(t,e){var n=this;if(!this.divider){var a=this.dragRange,i=this.$refs.wrapper;e||(e=i.querySelectorAll(".jfk-picker__item")),void 0===t&&(t=s.default.getElementTranslate(i).top);var r=Math.ceil(this.visibleItemCount/2),o=h[this.visibleItemCount]||-20;d.call(e,function(e,i){var s=i*n.itemHeight,l=a[1]-t,u=s-l,c=u/n.itemHeight,d=o*c;d>180&&(d=180),d<-180&&(d=-180),f(e,d),Math.abs(c)>r?e.classList.add("jfk-picker__item-far"):e.classList.remove("jfk-picker__item-far")})}},planUpdateRotate:function(){var t=this,e=this.$refs.wrapper;cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame(function(){t.updateRotate()}),(0,l.once)(e,s.default.transitionEndProperty,function(){cancelAnimationFrame(t.animationFrameId),t.animationFrameId=null})},initEvents:function(){var t,e,n,a=this,i=this.$refs.wrapper,o={};(0,r.default)(i,{start:function(t){cancelAnimationFrame(a.animationFrameId),a.animationFrameId=null,o={range:a.dragRange,start:new Date,startLeft:t.pageX,startTop:t.pageY,startTranslateTop:s.default.getElementTranslate(i).top},n=i.querySelectorAll(".jfk-picker__item")},drag:function(r){a.dragging=!0,o.left=r.pageX,o.top=r.pageY;var l=o.top-o.startTop,u=o.startTranslateTop+l;s.default.translateElement(i,null,u),t=u-e||u,e=u,a.rotateEffect&&a.updateRotate(e,n)},end:function(){if(a.dragging){a.dragging=!1;var e,n=s.default.getElementTranslate(i).top,r=new Date-o.start;r<300&&(e=n+7*t);var l=o.range;a.$nextTick(function(){var t,r=a.itemHeight;t=e?Math.round(e/r)*r:Math.round(n/r)*r,t=Math.max(Math.min(t,l[1]),l[0]),s.default.translateElement(i,null,t),a.currentValue=a.translate2Value(t),a.rotateEffect&&a.planUpdateRotate()})}o={}}})},doOnValueChange:function(){var t=this.currentValue,e=this.$refs.wrapper;s.default.translateElement(e,null,this.value2Translate(t))},doOnValuesChange:function(){var t=this,e=this.$el,n=e.querySelectorAll(".jfk-picker__item");d.call(n,function(e,n){s.default.translateElement(e,null,t.itemHeight*n)}),this.rotateEffect&&this.planUpdateRotate()}},mounted:function(){this.ready=!0,this.$emit("input",this.currentValue),this.divider||(this.initEvents(),this.doOnValueChange()),this.rotateEffect&&this.doOnValuesChange()},watch:{values:function(t){this.mutatingValues=t},mutatingValues:function(t){var e=this;-1===this.valueIndex&&(this.currentValue=(t||[])[0]),this.rotateEffect&&this.$nextTick(function(){e.doOnValuesChange()})},currentValue:function(t){this.doOnValueChange(),this.rotateEffect&&this.planUpdateRotate(),this.$emit("input",t),this.dispatch("picker","slotValueChange",this)},defaultIndex:function(t){void 0!==this.mutatingValues[t]&&this.mutatingValues.length>=t+1&&(this.currentValue=this.mutatingValues[t])}}}},143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(100),i=n.n(a),r=n(154),o=n(1),s=o(i.a,r.a,null,null,null);e.default=s.exports},152:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jfk-picker",class:{"is-3d":t.rotateEffect}},[t.showToolbar?n("div",{staticClass:"jfk-picker__toolbar"},[t._t("default")],2):t._e(),t._v(" "),n("div",{staticClass:"jfk-picker__items"},[t._l(t.slots,function(e,a){return n("picker-slot",{key:a,attrs:{valueKey:t.valueKey,values:e.values||[],"text-align":e.textAlign||"center","visible-item-count":t.visibleItemCount,"class-name":e.className,flex:e.flex,"rotate-effect":t.rotateEffect,divider:e.divider,content:e.content,itemHeight:t.itemHeight,"default-index":e.defaultIndex},model:{value:t.values[e.valueIndex],callback:function(n){t.$set(t.values,e.valueIndex,n)},expression:"values[slot.valueIndex]"}})}),t._v(" "),n("div",{staticClass:"jfk-picker__center-highlight",style:{height:t.itemHeight+"px",marginTop:-t.itemHeight/2+"px"}})],2)])},i=[],r={render:a,staticRenderFns:i};e.a=r},154:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.mutatingValues.length,expression:"mutatingValues.length"}],staticClass:"jfk-picker__slot",class:t.classNames,style:t.flexStyle},[t.divider?t._e():n("div",{ref:"wrapper",staticClass:"jfk-picker__slot-wrapper",class:{dragging:t.dragging},style:{height:t.contentHeight+"px"}},t._l(t.mutatingValues,function(e){return n("div",{staticClass:"jfk-picker__item",class:{"is-selected font-color-white":e===t.currentValue,"font-color-light-gray":e!==t.currentValue},style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px"}},[t._v("\n      "+t._s("object"==typeof e&&e[t.valueKey]?e[t.valueKey]:e)+"\n    ")])})),t._v(" "),t.divider?n("div",{staticClass:"font-color-white"},[t._v(t._s(t.content))]):t._e()])},i=[],r={render:a,staticRenderFns:i};e.a=r},68:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(82),i=function(t){return t&&t.__esModule?t:{default:t}}(a);i.default.install=function(t){t.component(i.default.name,i.default)},e.default=i.default},82:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(99),i=n.n(a),r=n(152),o=n(1),s=o(i.a,r.a,null,null,null);e.default=s.exports},89:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=function(t){e.drag&&e.drag(i?t.changedTouches[0]||t.touches[0]:t)},r=function t(r){i||(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)),document.onselectstart=null,document.ondragstart=null,a=!1,e.end&&e.end(i?r.changedTouches[0]||r.touches[0]:r)};t.addEventListener(i?"touchstart":"mousedown",function(t){a||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},i||(document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)),a=!0,e.start&&(t.preventDefault(),e.start(i?t.changedTouches[0]||t.touches[0]:t)))}),i&&(t.addEventListener("touchmove",n),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r))};var a=!1,i="ontouchstart"in window},90:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=e.on=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),i=e.off=function(){return document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();e.once=function(t,e,n){a(t,e,function a(){n&&n.apply(this,arguments),i(t,e,a)})}},91:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i={},r=document.documentElement.style,o=!1;window.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?a="presto":"MozAppearance"in r?a="gecko":"WebkitAppearance"in r?a="webkit":"string"==typeof navigator.cpuClass&&(a="trident");var s={trident:"-ms-",gecko:"-moz-",webkit:"-webkit-",presto:"-o-"}[a],l={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[a],u=document.createElement("div"),c=l+"Perspective",f=l+"Transform",d=s+"transform",h=l+"Transition",p=s+"transition",v=l.toLowerCase()+"TransitionEnd";void 0!==u.style[c]&&(o=!0);var m=function(t){var e={left:0,top:0};if(null===t||null===t.style)return e;var n=t.style[f],a=/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/gi.exec(n);return a&&(e.left=+a[1],e.top=+a[3]),e},g=function(t,e,n){if((null!==e||null!==n)&&null!==t&&void 0!==t&&null!==t.style&&(t.style[f]||0!==e||0!==n)){if(null===e||null===n){var a=m(t);null===e&&(e=a.left),null===n&&(n=a.top)}_(t),t.style[f]+=o?" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+") translateZ(0px)":" translate("+(e?e+"px":"0px")+","+(n?n+"px":"0px")+")"}},_=function(t){if(null!==t&&null!==t.style){var e=t.style[f];e&&(e=e.replace(/translate\(\s*(-?\d+(\.?\d+?)?)px,\s*(-?\d+(\.\d+)?)px\)\s*translateZ\(0px\)/g,""),t.style[f]=e)}};i={transformProperty:f,transformStyleName:d,transitionProperty:h,transitionStyleName:p,transitionEndProperty:v,getElementTranslate:m,translateElement:g,cancelTranslateElement:_},e.default=i},93:function(t,e,n){"use strict";function a(t,e,n){this.$children.forEach(function(i){i.$options.componentName===t?i.$emit.apply(i,[e].concat(n)):a.apply(i,[t,e].concat(n))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{dispatch:function(t,e,n){for(var a=this.$parent,i=a.$options.componentName;a&&(!i||i!==t);)(a=a.$parent)&&(i=a.$options.componentName);a&&a.$emit.apply(a,[e].concat(n))},broadcast:function(t,e,n){a.call(this,t,e,n)}}}},99:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(143),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={name:"JfkPicker",componentName:"picker",components:{pickerSlot:i.default},props:{slots:{type:Array},showToolbar:{type:Boolean,default:!1},visibleItemCount:{type:Number,default:5},valueKey:String,rotateEffect:{type:Boolean,default:!1},itemHeight:{type:Number,default:36}},created:function(){var t=this;this.$on("slotValueChange",this.slotValueChange);var e=this.slots||[];this.values=[];var n=this.values,a=0;e.forEach(function(e){e.divider||(e.valueIndex=a++,n[e.valueIndex]=(e.values||[])[e.defaultIndex||0],t.slotValueChange())})},methods:{slotValueChange:function(){this.$emit("change",this,this.values)},getSlot:function(t){var e,n=this.slots||[],a=0,i=this.$children.filter(function(t){return"picker-slot"===t.$options.name});return n.forEach(function(n,r){n.divider||(t===a&&(e=i[r]),a++)}),e},getSlotValue:function(t){var e=this.getSlot(t);return e?e.value:null},setSlotValue:function(t,e){var n=this.getSlot(t);n&&(n.currentValue=e)},getSlotValues:function(t){var e=this.getSlot(t);return e?e.mutatingValues:null},setSlotValues:function(t,e){var n=this.getSlot(t);n&&(n.mutatingValues=e)},getValues:function(){return this.values},setValues:function(t){var e=this,n=this.slotCount;if(t=t||[],n!==t.length)throw new Error("values length is not equal slot count.");t.forEach(function(t,n){e.setSlotValue(n,t)})}},computed:{values:function(){var t=this.slots||[],e=[];return t.forEach(function(t){t.divider||e.push(t.value)}),e},slotCount:function(){var t=this.slots||[],e=0;return t.forEach(function(t){t.divider||e++}),e}}}}})});